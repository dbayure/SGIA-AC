<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">
	<ui:define name="content">

		<style type="text/css">
.placaRowSelected {
	background-color: #dbffb8 !important;
	background-image: none !important;
	color: #000000 !important;
}
</style>

		<h:form id="form" prependId="false">

			<p:panel id="p1">
				<h:panelGrid id="gridImg" columns="10" >
					<h:graphicImage value="/resources/gfx/circuito.png" alt="placa"
						height="50px" />
					<p>
					<h3>Ip: #{placaBean.placa.ipPlaca}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p>
					<h3>Serie: #{placaBean.placa.nroSerie}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p>
					<h3>Descripcion: #{placaBean.placa.descripcion}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p>
					<h3>Estado Placa: #{placaBean.placa.estado}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p:commandButton action="#{placaBean.mostrarCambioEstadoPlaca}"
						update="form" icon="ui-icon-gear" />

				</h:panelGrid>

				<h:panelGrid id="gridEstado"
					rendered="#{placaBean.mostrarCambiarEstadoPlaca}" columns="2">
					<p:selectOneButton value="#{placaBean.estadoPlaca}" rendered="#{request.isUserInRole('SGIADMIN')}">
						<f:selectItem itemLabel="Inactivo" itemValue="I"  />
						<f:selectItem itemLabel="Configuracion" itemValue="C" />
						<f:selectItem itemLabel="Manual" itemValue="M" />
						<f:selectItem itemLabel="Automatico" itemValue="A" />
					</p:selectOneButton>
					<p:selectOneButton value="#{placaBean.estadoPlaca}" rendered="#{!request.isUserInRole('SGIADMIN')}">
						<f:selectItem itemLabel="Manual" itemValue="M" />
						<f:selectItem itemLabel="Automatico" itemValue="A" />
					</p:selectOneButton>
					<p:commandButton action="#{placaBean.cambiarEstadoPlaca}"
						update="form" icon="ui-icon-transferthick-e-w" />
				</h:panelGrid>

			</p:panel>
			
			<p:panel>
				<h:panelGrid id="gridSelFactorSensor" columns="2">
					<p:selectOneButton value="#{graficaBean.opcionVisualizacion}">
						<f:selectItem itemLabel="Factores" itemValue="F" />
						<f:selectItem itemLabel="Sensores" itemValue="S" />
					</p:selectOneButton>
					<p:commandButton action="#{graficaBean.mostrarFactorSensor}"
						update="form" icon="ui-icon-transferthick-e-w" />
				</h:panelGrid>
				
				<h:panelGrid id="gridFactores" rendered="#{graficaBean.opcionVisualizacion == 'F'}">
				<p:carousel value="#{factores}" headerText="Factores" itemStyle="width: 270px;"
					var="_factor" style="width: 100% !important;">
					<h:panelGrid columns="2" style="width:100%" cellpadding="5"
						columnClasses="label,value">
						<f:facet name="header">
						<p:commandLink	style="display: block; float:center; margin-left: auto; margin-right: auto;"
							update=":form" action="#{graficaBean.definirFactorGrafica(_factor.nombre)}">
							<h:graphicImage value="/resources/gfx/#{_factor.nombre}.png" alt="factor" height="25px" />
						</p:commandLink>
						</f:facet>

						<h:outputText value="Nombre:" />
						<h:outputText value="#{_factor.nombre}" style="font-weight: bold;" />

						<h:outputText value="Minimo" />
						<h:outputText value="#{_factor.valorMin}" style="font-weight: bold;"/>

						<h:outputText value="Maximo:" />
						<h:outputText value="#{_factor.valorMax}" style="font-weight: bold;"/>

						<h:outputText value="Unidad" />
						<h:outputText value="#{_factor.unidad}" style="font-weight: bold;"/>
					</h:panelGrid>

				</p:carousel>
				</h:panelGrid>
				
				<h:panelGrid id="gridSensores" rendered="#{graficaBean.opcionVisualizacion == 'S'}">
				<p:carousel value="#{sensores}" headerText="Sensores" itemStyle="width: 270px;"
					var="_sensor" style="width: 100% !important;">
					<h:panelGrid columns="2" style="width:100%" cellpadding="5"
						columnClasses="label,value">
						<f:facet name="header">
						<p:commandLink	style="display: block; float:center; margin-left: auto; margin-right: auto;"
							update=":form" action="#{graficaBean.definirSensorGrafica(_sensor.nombre)}">
							<h:graphicImage value="/resources/gfx/Luminosidad.png" alt="factor" height="25px" />
						</p:commandLink>
						</f:facet>

						<h:outputText value="Nombre:" />
						<h:outputText value="#{_sensor.nombre}" style="font-weight: bold;"/>

						<h:outputText value="Modelo" />
						<h:outputText value="#{_sensor.modelo}" style="font-weight: bold;"/>

						<h:outputText value="Estado:" />
						<h:outputText value="#{_sensor.estadoAlerta}" style="font-weight: bold;"/>

						<h:outputText value="Puerto" />
						<h:outputText value="#{_sensor.numeroPuerto}" style="font-weight: bold;"/>
					</h:panelGrid>

				</p:carousel>
				</h:panelGrid>
				
						
			</p:panel>
			
			<p:panel rendered="#{graficaBean.nombreFactorGraficar == 'Temperatura'}" >
				<p:panelGrid>
					<p:chart type="line" model="#{graficaBean.lineModel1}" style="height:300px;"/>
					<p:outputLabel value="Temperatura"/>
				</p:panelGrid>
				
			</p:panel>
			
			<p:panel rendered="#{graficaBean.nombreFactorGraficar == 'Humedad'}" >
				<p:panelGrid>
					<p:chart type="line" model="#{graficaBean.lineModel2}" style="height:300px;"/>
					<p:outputLabel value="Humedad"/>
				</p:panelGrid>
			</p:panel>

			<p:panel rendered="#{graficaBean.nombreSensorGraficar == 'sensor temperatura 1'}" >
				<p:panelGrid>
					<p:chart type="line" model="#{graficaBean.lineModel2}" style="height:300px;"/>
					<p:outputLabel value="Temperatura 1"/>
				</p:panelGrid>
			</p:panel>
			
			<p:panel rendered="#{graficaBean.nombreSensorGraficar == 'sensor temperatura 2'}" >
				<p:panelGrid>
					<p:chart type="line" model="#{graficaBean.lineModel2}" style="height:300px;"/>
					<p:outputLabel value="Temperatura 2"/>
				</p:panelGrid>
			</p:panel>
			
			<p:panel rendered="#{graficaBean.nombreSensorGraficar == 'sensor humedad 1'}" >
				<p:panelGrid>
					<p:chart type="line" model="#{graficaBean.lineModel2}" style="height:300px;"/>
					<p:outputLabel value="Humedad 1"/>
				</p:panelGrid>
			</p:panel>
			<p:messages id="messages" showDetail="true" autoUpdate="true"
				closable="true" />




		</h:form>
	</ui:define>
</ui:composition>
