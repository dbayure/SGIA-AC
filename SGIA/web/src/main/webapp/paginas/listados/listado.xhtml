<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">
	<ui:define name="content">

		<style type="text/css">
			.placaRowSelected {
			background-color: #dbffb8 !important;
			background-image: none !important;
			color: #000000 !important;
			}
		</style>

		<h:form id="form" prependId="false">

			<p:panel id="p1">
				<h:panelGrid id="gridImg" columns="10">
					<h:graphicImage value="/resources/gfx/circuito.png" alt="placa"
						height="50px" />
					<p>
					<h3>Ip: #{placaBean.placa.ipPlaca}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p>
					<h3>Serie: #{placaBean.placa.nroSerie}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p>
					<h3>Descripcion: #{placaBean.placa.descripcion}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p>
					<h3>Estado Placa: #{placaBean.placa.estado}</h3>
					</p>
					<p:spacer width="20" height="10" />
					<p:commandButton action="#{placaBean.mostrarCambioEstadoPlaca}"
						update="form" icon="ui-icon-gear" />

				</h:panelGrid>
				
				<h:panelGrid id="gridEstado"
					rendered="#{placaBean.mostrarCambiarEstadoPlaca}" columns="2">
					<p:selectOneButton value="#{placaBean.estadoPlaca}">
						<f:selectItem itemLabel="Inactivo" itemValue="I" />
						<f:selectItem itemLabel="Configuracion" itemValue="C" />
						<f:selectItem itemLabel="Manual" itemValue="M" />
						<f:selectItem itemLabel="Automatico" itemValue="A" />
					</p:selectOneButton>
					<p:commandButton action="#{placaBean.cambiarEstadoPlaca}"
						update="form" icon="ui-icon-transferthick-e-w" />
				</h:panelGrid>

			</p:panel>
			<p:panel>
				<p:dataTable id="graficas" var="_formulario" value="#{formularios}" rowKey="#{_formulario.id}" paginator="true" rows="10"
				selection="#{formulariosBean.selectedFormulario}" selectionMode="single" filteredValue="#{formulariosBean.formulariosFiltrados}"
				resizableColumns="true" liveResize="true" emptyMessage="No hay formulario seleccionado" style="border-width:0px">
			
				<p:column headerText="Id" sortBy="id" filterBy="id" id="id">  
		            #{_formulario.id}  
		        </p:column>
		        
		        <p:column headerText="Fecha Entrevista" sortBy="fechaEntrevista" filterBy="fechaEntrevista" id="fechaEntrevista">  
		            #{_formulario.fechaEntrevista}  
		        </p:column>
		        
		        <p:column headerText="Funcionario" sortBy="funcionario" filterBy="funcionario" id="funcionario">  
		            #{_formulario.funcionario.nombre}  
		        </p:column>
		        
		        <p:column headerText="Observaciones" sortBy="observaciones" filterBy="observaciones" id="observaciones">  
		            #{_formulario.observaciones}  
		        </p:column>
		        
		        <p:column style="width:4%">  
		            <p:commandButton id="selectButton" update=":form:personas" icon="ui-icon-search" title="View" onclick="PF('tabPersonas').show()" >  
		                <f:setPropertyActionListener value="#{_formulario}" target="#{formulariosBean.selectedFormulario}" />  
		            </p:commandButton>  
		        </p:column>
		        
			</p:dataTable>
			</p:panel>

			<p:messages id="messages" showDetail="true" autoUpdate="true"
				closable="true" />
				

			

		</h:form>
	</ui:define>
</ui:composition>
